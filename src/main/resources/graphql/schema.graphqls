scalar UUID
scalar DateTime
scalar Json

type Query {
    obtenerEmpresas(limit: Int): [Empresa]
    obtenerEmpresaPorId(id: UUID): Empresa

    obtenerOfertasTrabajo(limit: Int): [OfertaTrabajo]
    obtenerOfertaTrabajoPorId(id: UUID): OfertaTrabajo

    obtenerEntrevistas(limit: Int): [Entrevista]
    obtenerEntrevistaPorId(id: UUID): Entrevista
    
    obtenerEvaluaciones(limit: Int): [Evaluacion]
    obtenerEvaluacionPorId(id: UUID): Evaluacion
    
    obtenerPostulaciones(limit: Int): [Postulacion]
    obtenerPostulacionPorId(id: UUID): Postulacion
    
    obtenerVisualizacionesOferta(limit: Int): [VisualizacionOferta]
    obtenerVisualizacionOfertaPorId(id: UUID): VisualizacionOferta
}

type Mutation {
    crearEmpresa(nombre: String!, correo: String!, rubro: String!): Empresa
    eliminarEmpresa(id: UUID!): String

    crearOfertaTrabajo(
        titulo: String!,
        descripcion: String!,
        salario: Float,
        ubicacion: String,
        requisitos: String,
        fechaPublicacion: String,
        empresaId: UUID!
    ): OfertaTrabajo
    eliminarOfertaTrabajo(id: UUID!): String

    crearEntrevista(
        fecha: String!,
        duracionMin: Int,
        objetivosTotales: String,
        objetivosCubiertos: String,
        entrevistador: String,
        postulacionId: UUID!
    ): Entrevista
    eliminarEntrevista(id: UUID!): String

    crearEvaluacion(
        calificacionTecnica: Float,
        calificacionActitud: Float,
        calificacionGeneral: Float,
        comentarios: String,
        entrevistaId: UUID!
    ): Evaluacion
    eliminarEvaluacion(id: UUID!): String

    crearPostulacion(
        nombre: String!,
        aniosExperiencia: Int!,
        nivelEducacion: String!,
        habilidades: String!,
        idiomas: String!,
        certificaciones: String!,
        puestoActual: String!,
        urlCv: String!,
        fechaPostulacion: String!,
        estado: String!,
        telefono: String!,
        email: String!,
        ofertaId: UUID!
    ): Postulacion
    eliminarPostulacion(id: UUID!): String

    crearVisualizacionOferta(
        fechaVisualizacion: String!,
        origen: String!,
        ofertaId: UUID!
    ): VisualizacionOferta
    eliminarVisualizacionOferta(id: UUID!): String
}

type Empresa {
    id: UUID
    nombre: String
    correo: String
    rubro: String
    createdAt: DateTime
    updatedAt: DateTime
    ofertas(limit: Int): [OfertaTrabajo]
}

type OfertaTrabajo {
    id: UUID
    titulo: String
    descripcion: String
    salario: Float
    ubicacion: String
    requisitos: String
    fechaPublicacion: String
    empresa: Empresa
    createdAt: DateTime
    updatedAt: DateTime
    postulaciones(limit: Int): [Postulacion]
    visualizaciones(limit: Int): [VisualizacionOferta]
}

type Postulacion {
    id: UUID
    nombre: String
    aniosExperiencia: Int
    nivelEducacion: String
    habilidades: String
    idiomas: String
    certificaciones: String
    puestoActual: String
    urlCv: String
    fechaPostulacion: String
    estado: String
    telefono: String
    email: String
    oferta: OfertaTrabajo
    createdAt: DateTime
    updatedAt: DateTime
    entrevistas(limit: Int): [Entrevista]
}

type Entrevista {
    id: UUID
    fecha: String
    duracionMin: Int
    objetivosTotales: String
    objetivosCubiertos: String
    entrevistador: String
    postulacion: Postulacion
    createdAt: DateTime
    updatedAt: DateTime
    evaluaciones(limit: Int): [Evaluacion]
}

type Evaluacion {
    id: UUID
    calificacionTecnica: Float
    calificacionActitud: Float
    calificacionGeneral: Float
    comentarios: String
    entrevista: Entrevista
    createdAt: DateTime
    updatedAt: DateTime
}

type VisualizacionOferta {
    id: UUID
    fechaVisualizacion: String
    origen: String
    oferta: OfertaTrabajo
    createdAt: DateTime
    updatedAt: DateTime
}
